!function (a) {
    "use strict";
    function b() {
        var a = document.createElement("bootstrap"), b = {WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend"};
        for (var c in b)if (void 0 !== a.style[c])return {end: b[c]};
        return !1
    }

    a.fn.emulateTransitionEnd = function (b) {
        var c = !1, d = this;
        a(this).one("bsTransitionEnd", function () {
            c = !0
        });
        var e = function () {
            c || a(d).trigger(a.support.transition.end)
        };
        return setTimeout(e, b), this
    }, a(function () {
        a.support.transition = b(), a.support.transition && (a.event.special.bsTransitionEnd = {
            bindType: a.support.transition.end, delegateType: a.support.transition.end, handle: function (b) {
                return a(b.target).is(this) ? b.handleObj.handler.apply(this, arguments) : void 0
            }
        })
    })
}(jQuery), function (a) {
    "use strict";
    a.fn.more = function () {
        var b = "more", c = this;
        return a("body").on("click." + b, "." + b, function (a) {
            a.preventDefault(), c.showMore()
        }), this.showMore = function () {
            var d = b + "-show";
            c.hasClass(d) || (c.addClass(d), a.ajax({
                cache: !1, url: c.attr("href"), dataType: "html", data: {AJAX: "Y"}, success: function (a) {
                    c.parent().append(a), c.remove()
                }
            }))
        }, this
    }
}(jQuery), function (a) {
    "use strict";
    a.fn.nav = function () {
        function b(a, b) {
            h.css({left: a - 1 || 0, opacity: void 0 !== b ? Number(b) : 0})
        }

        var c = ".nav", d = c + "__item", e = c + "__slider", f = this, g = a(d, f), h = a(e, f), i = g.filter(".nav-active"), j = a.map(g, function (a, b) {
            var c = g.eq(b);
            return Math.round(c.position().left)
        }), k = a("body").on("mouseleave" + c, d, function () {
            b(i.length ? j[g.index(i)] : 0, i.length)
        }).on("mouseenter" + c, d, function () {
            b(j[g.index(this)], !0)
        }).on("click", d, function () {
            k.off(c)
        });
        return g.eq(0).trigger("mouseleave" + c), this
    }, a(window).on("load", function () {
        a(document.getElementById("nav")).nav()
    })
}(jQuery), function (a) {
    "use strict";
    a.fn.logo = function () {
        function b() {
            var a = l.current + 1 > l.count;
            l.current = a ? l.count : l.current + 1, g(a)
        }

        function c() {
            var a = l.current - 1 < 0;
            l.current = a ? 0 : l.current - 1, g(a)
        }

        function d() {
            n && f(), n || (n = setInterval(b, m))
        }

        function e() {
            n && f(), n || (n = setInterval(c, m))
        }

        function f() {
            n && (clearTimeout(n), n = null)
        }

        function g(a) {
            return a ? void j.stop() : void k.css("background-position", -1 * l.width * l.current + "px 0px")
        }

        var h = ".logo", i = h + "__link", j = this, k = a(i, j), l = {width: 108, current: 0, count: 31}, m = 50, n = null;
        return a("body").on("mouseenter" + h, i, function () {
            d()
        }).on("mouseleave" + h, i, function () {
            e()
        }), this.each(function () {
            g(!1)
        })
    }
}(jQuery), function (a) {
    "use strict";
    function b(b, d) {
        var e = this.map(function () {
            var e = a(this), f = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b), g = "rc." + f.name, h = e.data(g), i = "string" == typeof b ? b : f.init;
            return h || e.data(g, h = new c(this, f)), i ? h[i](d) : void h.init()
        }).get();
        return e.length ? e[0] : this
    }

    var c = function (b, c) {
        var d = this;
        d.$progress = a(b), d.$wrap = a("." + c.name + "__wrap", d.$progress), d.timer = d.left = d.width = d.step = d.span = null, d.options = c;
        var e = a("body").on("mousedown." + d.options.name, "." + d.options.name + "__drag", function () {
            e.addClass("cursorRock"), e.on("mousemove." + d.options.name, function (a) {
                d._set(a.pageX - d.left)
            }).one("mouseup." + d.options.name, function () {
                e.off("mousemove." + d.options.name), e.removeClass("cursorRock")
            })
        }).on("click." + d.options.name, "." + d.options.name, function (a) {
            d._set(a.pageX - d.left)
        })
    };
    c.DEFAULTS = {
        step: 4, name: "progress", onChange: function (a) {
        }
    }, c.prototype.set = function (a) {
        this.step = a, this.timer && (clearTimeout(this.timer), this.timer = null), this.$wrap.addClass(this.options.name + "-animated"), this._set((a ? a - 1 : this.options.step) * this.span + (a ? 1 : -1) * this.span / 2, !0)
    }, c.prototype._set = function (a, b) {
        var c = this;
        a = a > 0 ? a : 0, a = a < c.width ? a : c.width;
        var d = 100 * a / c.width;
        if (!b) {
            var e = Math.floor(a / c.span);
            e = e < c.options.step ? e : c.options.step - 1, c.step != e && (c.options.onChange(e), c.step = e)
        }
        c.$wrap.css({width: d + "%"}), c.$wrap.hasClass(c.options.name + "-animated") && !c.timer && (c.timer = setTimeout(function () {
            c.$wrap.removeClass(c.options.name + "-animated")
        }, 150))
    }, c.prototype.extend = function (b) {
        a.extend(this.options, b || {})
    }, c.prototype.init = function () {
        this.width = this.$progress.innerWidth(), this.left = this.$wrap.offset().left, this.span = this.width / this.options.step, this.step = 0, this._set(this.span / 2)
    };
    var d = a.fn.progress;
    a.fn.progress = b, a.fn.progress.Constructor = c, a.fn.progress.noConflict = function () {
        return a.fn.progress = d, this
    }
}(jQuery), function (a) {
    "use strict";
    function b(b, d) {
        var e = this.map(function () {
            var e = a(this), f = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b), g = "rc." + f.name, h = e.data(g), i = "string" == typeof b ? b : f.init;
            return h || e.data(g, h = new c(this, f)), i ? h[i](d) : void h.init()
        }).get();
        return e.length ? e[0] : this
    }

    var c = function (b, c) {
        var d = this;
        d.$review = a(b), d.$list = a("." + c.name + "__list", b), d.$items = a("." + c.name + "__item", b), d.$next = a("." + c.name + "__next", b), d.$prev = a("." + c.name + "__prev", b), d.$control = a("." + c.name + "__control", b), d.$preview = a("." + c.name + "__preview", b), d.$status = a("." + c.name + "__status", b), d.options = c, d.$review.on("click." + d.options.name, "." + d.options.name + "__preview", function () {
            var b = d.$preview.index(this);
            console.log(d.$control.hasClass("scroll-event")), a.proxy(d.options.onChange, d)(b), d.set(b)
        }).on("click." + d.options.name, "." + d.options.name + "__next, ." + d.options.name + "__prev", function () {
            d.slide(d.$next.filter(this).length)
        }), a(document).on("keyup." + d.options.name, function (a) {
            var b;
            39 == a.keyCode ? b = !0 : 37 == a.keyCode && (b = !1), void 0 !== b && d.slide(b)
        })
    };
    c.DEFAULTS = {
        name: "review", onChange: function (a) {
        }
    }, c.prototype.extend = function (b) {
        a.extend(this.options, b || {})
    }, c.prototype.slide = function (b) {
        var c = this.$items.filter("." + this.options.name + "-active"), d = this.$items.index(c) + (b ? 1 : -1);
        d = d < this.$items.length ? d : 0, a.proxy(this.options.onChange, this)(d), this.set(d)
    }, c.prototype.set = function (a) {
        var b = this, c = b.$items.eq(a), d = b.options.name + "-active";
        c.length && !c.hasClass(d) && (b.$items.removeClass(d), c.addClass(d), b.$status.text((0 > a ? b.$items.length : a + 1) + " из " + b.$items.length));
        var e = this.$preview.eq(a);
        e.length && !e.hasClass(d) && this.$preview.removeClass(d).eq(a).addClass(d)
    }, c.prototype.init = function () {
        var b = this;
        a.each(b.$items, function (c) {
            var d = a("." + b.options.name + "__img", b.$items.eq(c)), e = d.data("src");
            e && (d.attr("src", e), d.removeData("src"));
            var f = b.$preview.eq(c), g = f.data("src");
            g && (f.css("background-image", "url(" + g + ")"), f.removeData("src"))
        })
    };
    var d = a.fn.review;
    a.fn.review = b, a.fn.review.Constructor = c, a.fn.review.noConflict = function () {
        return a.fn.review = d, this
    }
}(jQuery), function (a) {
    "use strict";
    function b(b, d) {
        var e = this.map(function () {
            var e = a(this), f = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b), g = "rc." + f.name, h = e.data(g), i = "string" == typeof b ? b : f.init;
            return h || e.data(g, h = new c(this, f)), i ? h[i](d) : void h.cycle()
        }).get();
        return e.length ? e[0] : this
    }

    var c = function (b, c) {
        var d = this;
        d.$slider = a(b), d.$item = a("." + c.name + "__item", d.$slider), d.$control = a(".control__item", d.$slider), this.options = c, this.paused = this.sliding = this.timer = null, a("body").on("click." + d.options.name, ".control__item", function (a) {
            if (a.preventDefault(), !d.sliding) {
                var b = d.$control.index(this);
                d.$control.removeClass("control-active").eq(b).addClass("control-active"), d.to(b)
            }
        })
    };
    c.DEFAULTS = {name: "slider", timer: 5e3, duration: 1e3}, c.prototype.extend = function (b) {
        a.extend(this.options, b || {})
    }, c.prototype.cycle = function () {
        this.pause(), this.options.timer && (this.timer = setInterval(a.proxy(this.next, this), this.options.timer))
    }, c.prototype.pause = function () {
        this.timer && (clearTimeout(this.timer), this.timer = null)
    }, c.prototype.next = function () {
        !this.sliding && this.slide(!0)
    }, c.prototype.prev = function () {
        !this.sliding && this.slide(!1)
    }, c.prototype.to = function (a) {
        var b = this;
        if (!(0 > a || b.$item.length - 1 < a || this.sliding)) {
            var c = b.$item.index(b.$item.filter("." + b.options.name + "-active"));
            return a == c ? b.cycle() : b.slide(a > c, a)
        }
    }, c.prototype.slide = function (a, b) {
        var c = this, d = c.$item.length - 1;
        if (c.pause(), !d)return void(c.sliding = !0);
        var e = a ? 1 : -1, f = c.$item.index(c.$item.filter("." + c.options.name + "-active"));
        if (b = isNaN(b) ? f + e : b, 0 > b ? b = d : b > d && (b = 0), b === f)return c.sliding = !1, void c.cycle();
        var g = c.$item.eq(f), h = c.$item.eq(b), i = g.add(h), j = c.options.name + (a ? "-next" : "-prev"), k = c.options.name + (a ? "-left" : "-right");
        c.sliding = !0, h.addClass(j), setTimeout(function () {
            var a = c.options.name + "-animation " + k;
            i.addClass(a), c.$control.length && c.$control.removeClass("control-active").eq(b).addClass("control-active"), g.one("bsTransitionEnd", function () {
                i.removeClass(a + " " + j).toggleClass(c.options.name + "-active"), c.sliding = !1, c.cycle()
            }).emulateTransitionEnd(c.options.duration)
        }, 0)
    }, c.prototype.init = function () {
    };
    var d = a.fn.slider;
    a.fn.slider = b, a.fn.slider.Constructor = c, a.fn.slider.noConflict = function () {
        return a.fn.slider = d, this
    }
}(jQuery), function (a) {
    "use strict";
    function b(b, d) {
        var e = this.map(function () {
            var e = a(this), f = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b), g = "rc." + f.name, h = e.data(g), i = "string" == typeof b ? b : f.init;
            return h || e.data(g, h = new c(this, f)), i ? h[i](d) : void h.init()
        }).get();
        return e.length ? e[0] : this
    }

    var c = function (b, c) {
        var d = this;
        d.$scroll = a(b), d.$wrap = a("." + c.name + "__wrap", d.$scroll), d.$body = a("." + c.name + "__body", d.$scroll), d.leftMargin = d.rightMargin = d.diff = null, d.options = c, d.$scroll.on("scroll." + d.options.name, function () {
        }).on("mousewheel." + d.options.name, function (a) {
            if (a.preventDefault(), !(d.diff < 0)) {
                var b = a.originalEvent.deltaY;
                d._set(d.$wrap.scrollLeft() + (d.options.step ? (b > 0 ? 1 : -1) * d.options.step : b))
            }
        }).on("mousedown." + d.options.name, "." + d.options.name + "__wrap", function (b) {
            if (!(d.diff < 0)) {
                var c = a("body");
                c.addClass("cursorRock");
                var e = b.pageX, f = d.$wrap.scrollLeft();
                c.on("mousemove." + d.options.name, function (a) {
                    d.leftMargin < a.pageX && a.pageX < d.rightMargin && d._set(f - (a.pageX - e))
                }).one("mouseup." + d.options.name, function () {
                    c.off("mousemove." + d.options.name), c.removeClass("cursorRock")
                })
            }
        })
    };
    c.DEFAULTS = {name: "scroll"}, c.prototype.extend = function (b) {
        a.extend(this.options, b || {})
    }, c.prototype.set = function (a) {
        a = a || {}, this._set(a.left || 0, a.speed || 0)
    }, c.prototype._set = function (a, b) {
        var c = this;
        a = a > 0 ? a : 0, a = a < c.diff ? a : c.diff, c.$wrap.animate({scrollLeft: a}, b || 0)
    }, c.prototype.init = function () {
        this.leftMargin = this.$wrap.offset().left, this.rightMargin = this.leftMargin + this.$wrap.width(), this.diff = this.$body.width() - this.$wrap.width()
    };
    var d = a.fn.scroll;
    a.fn.scroll = b, a.fn.scroll.Constructor = c, a.fn.scroll.noConflict = function () {
        return a.fn.scroll = d, this
    }
}(jQuery), function (a) {
    "use strict";
    function b(b, d) {
        var e = this.map(function () {
            var e = a(this), f = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b), g = "rc." + f.name, h = e.data(g), i = "string" == typeof b ? b : f.init;
            return h || e.data(g, h = new c(this, f)), i ? h[i](d) : void h.init()
        }).get();
        return e.length ? e[0] : this
    }

    var c = function (b, c) {
        var d = this;
        d.$graphic = a(b), d.$control = a("." + c.name + "__control", d.$graphic), d.$layer = a("." + c.name + "__layer", d.$graphic), d.canvas = a("." + c.name + "__canvas", d.$graphic)[0], d.canvas.getContext && (d.context = d.canvas.getContext("2d")), d.plan = d.data = d.width = d.height = d.current = d.hStep = d.wStep = d.drawWidth = d.drawHeight = null, d.fix = 0, d.options = c;
        var e = d.options.managerSize / 2, f = d.$layer.offset().top - d.options.marginBottom, g = d.$layer.offset().left + d.options.marginLeft;
        d.$layer.scroller(), d.$control.on("change." + c.name, ".check__field", function () {
            d.current = a(this).val(), d.draw(d.data[d.current])
        }), a("body").on("mousemove." + c.name, ".manager", function (b) {
            var c = a(this);
            d.$pointer.width(c.position().left - d.options.marginLeft + e - 4), d.$pointer.height(d.height - c.position().top - d.options.marginBottom - e - 1 + d.fix), b.stopPropagation()
        }).on("mousemove." + c.name, "." + c.name + "__layer", function (a) {
            var b = a.pageX - g;
            b > d.drawWidth && (b = d.drawWidth);
            var c = d.height - a.pageY + f + d.fix;
            c > d.drawHeight && (c = d.drawHeight), d.$pointer.width(b), d.$pointer.height(c)
        }).on("mouseleave", "." + c.name + "__layer", function () {
            d.$layer.removeClass(c.name + "-pointer")
        }).on("mouseenter", "." + c.name + "__layer", function () {
            d.$layer.addClass(c.name + "-pointer")
        })
    };
    c.DEFAULTS = {name: "graphic", url: "/ajax/returnOnSales.php", arrowWidth: 6, arrowHeight: 17, arrowShift: 4, marginTop: 17, marginRight: 27, marginBottom: 22, marginLeft: 4, xAxis: "Недели", yAxis: "Доли,%", markHeight: 6, markMargin: 50, markMarginText: 14, managerSize: 74, axisColor: "#0f1324", graphicColor: "#ff3000"}, c.prototype.extend = function (b) {
        a.extend(this.options, b || {})
    }, c.prototype.clearGraphic = function () {
        this.$layer.scroller("hide"), this.context.clearRect(0, 0, this.width, this.height)
    }, c.prototype.drawPath = function (a, b) {
        a = a || [], b = b || {};
        var c = this.context, d = a.shift(), e = a.length;
        if (e) {
            c.beginPath(), c.moveTo(d[0], d[1]);
            for (var f = 0; e > f; f++)c.lineTo(a[f][0], a[f][1]);
            for (var g in b)c[g] = b[g];
            c.stroke()
        }
    }, c.prototype.drawText = function (b, c, d, e) {
        var f = this.context;
        b = b || "", c = c || 0, d = d || 0, e = a.extend({font: "normal 13px Helvetica, Arial, sans-serif"}, e || {});
        for (var g in e)f[g] = e[g];
        f.fillText(b, c, d)
    }, c.prototype.drawAxis = function () {
        var a = this.options, b = [[a.marginLeft, 0], [a.marginLeft - a.arrowWidth / 2, a.arrowHeight / 2 + a.arrowShift], [a.marginLeft, a.arrowHeight], [a.marginLeft + a.arrowWidth / 2, a.arrowHeight / 2 + a.arrowShift], [a.marginLeft, 0]];
        this.drawPath(b, {strokeStyle: this.options.axisColor, lineWidth: 2});
        var c = [[a.marginLeft, a.marginTop], [a.marginLeft, this.height - a.marginBottom], [this.width - a.marginRight, this.height - a.marginBottom]];
        this.drawPath(c, {strokeStyle: this.options.axisColor, lineWidth: 2});
        var d = [[this.width - a.marginRight + a.arrowHeight, this.height - a.marginBottom], [this.width - a.marginRight + a.arrowHeight / 2 - a.arrowShift, this.height - a.marginBottom - a.arrowWidth / 2], [this.width - a.marginRight, this.height - a.marginBottom], [this.width - a.marginRight + a.arrowHeight / 2 - a.arrowShift, this.height - a.marginBottom + a.arrowWidth / 2], [this.width - a.marginRight + a.arrowHeight, this.height - a.marginBottom]];
        this.drawPath(d, {strokeStyle: this.options.axisColor, lineWidth: 2}), this.drawText(a.yAxis, a.marginLeft + a.markMarginText, a.arrowShift, {textAlign: "left", textBaseline: "top"}), this.drawText(a.xAxis, this.width, this.height, {textAlign: "right", textBaseline: "bottom"})
    }, c.prototype.drawMark = function (a, b) {
        var c = this.options, d = a.length, e = this.height - c.marginBottom;
        this.hStep = this.drawHeight / (a[d - 1] - a[0]);
        var f = b.length, g = c.marginLeft + c.markMargin;
        this.wStep = (this.drawWidth - c.markMargin) / (f - 1);
        var h = this.plan.WEEK[b[f - 1]].SHARE, i = Math.round(e - (h - a[0]) * this.hStep);
        this.drawPath([[g + this.wStep * (f - 1) + .5, e - .5], [g + this.wStep * (f - 1) + .5, i - .5], [c.marginLeft, i - .5]], {strokeStyle: this.options.graphicColor, lineWidth: 1}), this.drawText("План (" + h + "%)", g + this.wStep * (f - 1) + this.options.markMarginText / 2, i - .5, {textAlign: "left", textBaseline: "middle", fillStyle: this.options.graphicColor}), this.context.beginPath(), this.context.arc(g + this.wStep * (f - 1) + .5, i - .5, 3, 0, 2 * Math.PI, !1), this.context.closePath(), this.context.fillStyle = this.options.graphicColor, this.context.fill();
        for (var j = 1; d > j; j++) {
            var k = (a[j] - a[0]) * this.hStep;
            this.drawPath([[c.marginLeft, e - k], [c.marginLeft + c.markHeight, e - k]], {strokeStyle: this.options.axisColor, lineWidth: 2}), this.drawText(a[j], c.marginLeft + c.markMarginText, e - k, {textAlign: "left", textBaseline: "middle", fillStyle: this.options.axisColor})
        }
        for (var j = 0; f > j; j++) {
            var l = j * this.wStep;
            this.drawPath([[g + l, e], [g + l, e - c.markHeight]], {strokeStyle: this.options.axisColor, lineWidth: 2}), this.drawText(b[j], g + l, this.height, {textAlign: "center", textBaseline: "bottom"})
        }
    }, c.prototype.draw = function (b) {
        var c = b.WEEK, d = Object.keys(this.plan.WEEK), e = [30, 40, 50, 60, 70, 80, 90, 100];
        this.clearGraphic(), this.drawAxis(), this.drawMark(e, d);
        var f, g, h = [], i = this.height - this.options.marginBottom, j = 0;
        for (var k in c)f = this.options.marginLeft + this.options.markMargin + j * this.wStep + 4, g = i - this.hStep * (parseFloat(c[k].SHARE) - e[0]), h.push([f, g]), j++;
        this.drawPath(h, {strokeStyle: this.options.graphicColor, lineWidth: 4});
        for (var l, m = h.length, n = '<span class="' + this.options.name + '__pointer"></span>', k = 1; m > k; k++) {
            l = c[d[k]];
            var o = l.MANAGER.split(" ");
            n += '<div class="manager" style="top: ' + (h[k - 1][1] - this.options.managerSize / 2 + this.fix) + "px; left: " + (h[k - 1][0] - this.options.managerSize / 2) + "px;transition-delay:" + .1 * (m - k) + 's;"><div class="manager__photo"><img class="manager__img" src="/img/manager/' + l.MANAGER + '.jpg" onerror="this.parentNode.innerText =\'' + (o[0][0] + o[1][0]) + '\'" /></div><div class="manager__hint"><p class="manager__name">' + l.MANAGER + '</p><span class="manager__department">' + b.TITLE + '</span><p class="manager__meter">Факт: ' + parseFloat(l.SHARE) + '%</p><p class="manager__meter">План: ' + parseFloat(this.plan.WEEK[d[k]].SHARE) + "%</p></div></div>"
        }
        this.$layer.html(n), this.$layer.scroller("scroll"), this.$pointer = a("." + this.options.name + "__pointer", this.$layer)
    }, c.prototype.init = function () {
        this.current = null, this.width = this.canvas.width, this.height = this.canvas.height, this.drawWidth = this.width - this.options.marginLeft - this.options.markMargin - this.options.marginRight, this.drawHeight = this.height - this.options.marginBottom - this.options.markMargin - this.options.marginTop, a.ajax({
            url: this.options.url, context: this, cache: !1, dataType: "json", success: function (a) {
                this.plan = a.shift(), this.data = a;
                var b = "";
                for (var c in a) {
                    var d = a[c];
                    b += '<label class="form__label"><span class="form__field check"><input class="check__field" type="radio" name="DIVISION" value="' + c + '" ' + (this.current ? "" : "checked") + ' /><span class="check__img"></span></span><span class="form__text">' + d.TITLE + "</span></label>", this.current || (this.current = c)
                }
                b.length && (this.$control.html(b), this.draw(a[this.current]))
            }
        })
    };
    var d = a.fn.graphic;
    a.fn.graphic = b, a.fn.graphic.Constructor = c, a.fn.graphic.noConflict = function () {
        return a.fn.graphic = d, this
    }
}(jQuery), function (a) {
    "use strict";
    function b(b, d) {
        var e = this.map(function () {
            var e = a(this), f = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b), g = "rc." + f.name, h = e.data(g), i = "string" == typeof b ? b : f.init;
            return h || e.data(g, h = new c(this, f)), i ? h[i](d) : void h.init()
        }).get();
        return e.length ? e[0] : this
    }

    var c = function (b, c) {
        var d = this;
        d.$scroller = a(b), d.height = d.bottom = d.top = null, d.options = c, d.$window = a(window).on("scroll." + d.options.name, function (a) {
            d.scroll()
        }).on("resize." + d.options.name, function () {
            d.height = d.$window.height(), d.scroll()
        })
    };
    c.DEFAULTS = {
        name: "scroller", onShow: function () {
        }
    }, c.prototype.extend = function (b) {
        a.extend(this.options, b || {})
    }, c.prototype.hide = function () {
        this.$scroller.addClass(this.options.name + "-hide").removeClass(this.options.name + "-show")
    }, c.prototype.scroll = function () {
        var a = this.$window.scrollTop(), b = a + this.height;
        (a < this.top && this.top < b || a < this.bottom && this.bottom < b) && (this.$scroller.removeClass(this.options.name + "-hide").addClass(this.options.name + "-show"), this.options.onShow())
    }, c.prototype.init = function () {
        this.top = this.$scroller.offset().top, this.bottom = this.$scroller.height() + this.top, this.height = a(window).height(), this.hide(), this.scroll()
    };
    var d = a.fn.scroller;
    a.fn.scroller = b, a.fn.scroller.Constructor = c, a.fn.scroller.noConflict = function () {
        return a.fn.scroller = d, this
    }
}(jQuery), function (a) {
    "use strict";
    a.fn.preloader = function (b) {
        var c = this;
        b = a.extend({name: "preloader", delayHide: 300, "class": ""}, b || {});
        var d = c.children("." + b.name);
        return d.length || (d = a('<div class="preloader"><div class="preloader__bg"></div></div>')), d.addClass(b["class"]), c.hidePreloader = function (a) {
            d.removeClass(b.name + "-show"), setTimeout(function () {
                d.remove(), a && a()
            }, b.delayHide)
        }, c.showPreloader = function () {
            c.children("." + b.name).length || d.appendTo(c), !d.hasClass(b.name + "-show") && setTimeout(function () {
                d.addClass(b.name + "-show")
            }, 0)
        }, this.each(function () {
            c.showPreloader()
        })
    }
}(jQuery), function (a) {
    "use strict";
    var b = a("body");
    a(document.getElementById("logo")).logo();
    var c = a(".js-more").more(), d = a(".js-scroller").scroller(), e = d.filter(".js-more");
    e.length > 0 && e.scroller("extend", {
        onShow: function () {
            c.showMore()
        }
    });
    var f = a(".popup");
    b.on("click", ".js-popup", function (c) {
        c.preventDefault();
        var d = a(this).attr("href");
        a.ajax({
            data: {}, cache: !1, dataType: "html", url: d + (d.indexOf("?") < 0 ? "?" : "&") + "AJAX=Y", success: function (b) {
                a(".popup__content", f).html(b)
            }
        }), b.css("width", b.width()).addClass("popup-show")
    }).on("click", ".popup__close", function (a) {
        b.css("width", "auto").removeClass("popup-show")
    }).on("keyup", function (a) {
        27 == a.keyCode && b.css("width", "auto").removeClass("popup-show")
    });
    var g = a(".slider").slider(), h = g.filter(".slider-present");
    h.length && h.slider("extend", {timer: !1}).slider("pause");
    var i = (a(".graphic").graphic(), a(".review").review()), j = i.filter(".review-gallery");
    if (j.length) {
        j.review("extend", {
            onChange: function (a) {
                k.scroll("set", {left: this.$preview.eq(a).position().left, speed: 300})
            }
        });
        var k = a(document.getElementById("scroll")).scroll({step: j.data("rc.review").$preview.eq(0).outerWidth(!0)})
    }
    var l = i.filter(".review-girls");
    if (l.length) {
        l.review("extend", {
            onChange: function (a) {
                m.progress("set", a + 1)
            }
        });
        var m = a(document.getElementById("progress")).progress({
            onChange: function (a) {
                l.review("set", a)
            }
        })
    }
}(jQuery);